<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Creating subplots &mdash; APLpy v0.9.4 documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.9.4',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="APLpy v0.9.4 documentation" href="index.html" />
    <link rel="up" title="HOWTOs" href="howtos.html" />
    <link rel="next" title="Complete API" href="api.html" />
    <link rel="prev" title="Making RGB images" href="howto_rgb.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="api.html" title="Complete API"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="howto_rgb.html" title="Making RGB images"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">APLpy v0.9.4 documentation</a> &raquo;</li>
          <li><a href="howtos.html" accesskey="U">HOWTOs</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/aplpy_web_py_blue.png" alt="Logo"/>
            </a></p>
            <h4>Previous topic</h4>
            <p class="topless"><a href="howto_rgb.html"
                                  title="previous chapter">Making RGB images</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="api.html"
                                  title="next chapter">Complete API</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/howto_subplot.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="creating-subplots">
<h1>Creating subplots<a class="headerlink" href="#creating-subplots" title="Permalink to this headline">Â¶</a></h1>
<p>By default, <tt class="docutils literal"><span class="pre">aplpy.FITSFigure()</span></tt> creates a figure with a single subplot that
occupies the entire figure. However, APLpy can be used to place a subplot in
an existing matplotlib figure instance. To do this, <tt class="docutils literal"><span class="pre">FITSFigure</span></tt> should be
called with the <tt class="docutils literal"><span class="pre">figure=</span></tt> argument as follows:</p>
<div class="highlight-python"><pre>import aplpy import matplotlib.pyplot as mpl

 fig = mpl.figure()
 f = aplpy.FITSFigure('some_image.fits', figure=fig)</pre>
</div>
<p>The above will place a subplot inside the <tt class="docutils literal"><span class="pre">fig</span></tt> figure instance. The <tt class="docutils literal"><span class="pre">f</span></tt>
object can be used as normal to control the FITS figure inside the
subplot. The above however is not very insteresting compared to just
creating a FITSFigure instance from scratch. What this is useful for is
only using sub-regions of the figure to display the FITS data, to leave
place for other subplots, whether histograms, scatter, or other matplotlib
plots, or another FITS Figure. This can be done using the <tt class="docutils literal"><span class="pre">subplot</span></tt>
argument. From the docstring for FITSFigure:</p>
<div class="highlight-python"><pre>*subplot*: [ list of four floats ]
    If specified, a subplot will be added at this position. The list
    should contain [xmin, ymin, dx, dy] where xmin and ymin are the
    position of the bottom left corner of the subplot, and dx and dy are
    the width and height of the subplot respectively. These should all be
    given in units of the figure width and height. For example, [0.1, 0.1,
    0.8, 0.8] will almost fill the entire figure, leaving a 10 percent
    margin on all sides.</pre>
</div>
<p>The following code outline illustrates how to create a rectangular figure with
two FITS images:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">aplpy</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">mpl</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">15</span><span class="p">,</span> <span class="mf">7</span><span class="p">))</span>

<span class="n">f1</span> <span class="o">=</span> <span class="n">aplpy</span><span class="o">.</span><span class="n">FITSFigure</span><span class="p">(</span><span class="s">&#39;image_1.fits&#39;</span><span class="p">,</span> <span class="n">figure</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">subplot</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.35</span><span class="p">,</span><span class="mf">0.8</span><span class="p">])</span>
<span class="n">f1</span><span class="o">.</span><span class="n">set_tick_labels_font</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="s">&#39;x-small&#39;</span><span class="p">)</span>
<span class="n">f1</span><span class="o">.</span><span class="n">set_axis_labels_font</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="s">&#39;small&#39;</span><span class="p">)</span>
<span class="n">f1</span><span class="o">.</span><span class="n">show_grayscale</span><span class="p">()</span>

<span class="n">f2</span> <span class="o">=</span> <span class="n">aplpy</span><span class="o">.</span><span class="n">FITSFigure</span><span class="p">(</span><span class="s">&#39;image_2.fits&#39;</span><span class="p">,</span> <span class="n">figure</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">subplot</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.35</span><span class="p">,</span><span class="mf">0.8</span><span class="p">])</span>
<span class="n">f2</span><span class="o">.</span><span class="n">set_tick_labels_font</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="s">&#39;x-small&#39;</span><span class="p">)</span>
<span class="n">f2</span><span class="o">.</span><span class="n">set_axis_labels_font</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="s">&#39;small&#39;</span><span class="p">)</span>
<span class="n">f2</span><span class="o">.</span><span class="n">show_grayscale</span><span class="p">()</span>

<span class="n">f2</span><span class="o">.</span><span class="n">hide_yaxis_label</span><span class="p">()</span>
<span class="n">f2</span><span class="o">.</span><span class="n">hide_ytick_labels</span><span class="p">()</span>

<span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">hide_*</span></tt> shown above are especially useful when working with
subplots, as in some cases there is no need to repeat the tick labels. Alternatively figures can be constructed from both APLpy figures and normal matplotlib axes:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">aplpy</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">mpl</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">15</span><span class="p">,</span> <span class="mf">7</span><span class="p">))</span>

<span class="n">f1</span> <span class="o">=</span> <span class="n">aplpy</span><span class="o">.</span><span class="n">FITSFigure</span><span class="p">(</span><span class="s">&#39;image_1.fits&#39;</span><span class="p">,</span> <span class="n">figure</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">subplot</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.35</span><span class="p">,</span><span class="mf">0.8</span><span class="p">])</span>
<span class="n">f1</span><span class="o">.</span><span class="n">set_tick_labels_font</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="s">&#39;x-small&#39;</span><span class="p">)</span>
<span class="n">f1</span><span class="o">.</span><span class="n">set_axis_labels_font</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="s">&#39;small&#39;</span><span class="p">)</span>
<span class="n">f1</span><span class="o">.</span><span class="n">show_grayscale</span><span class="p">()</span>

<span class="n">ax2</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.35</span><span class="p">,</span><span class="mf">0.8</span><span class="p">])</span>

<span class="c"># some code here with ax2</span>

<span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="api.html" title="Complete API"
             >next</a> |</li>
        <li class="right" >
          <a href="howto_rgb.html" title="Making RGB images"
             >previous</a> |</li>
        <li><a href="index.html">APLpy v0.9.4 documentation</a> &raquo;</li>
          <li><a href="howtos.html" >HOWTOs</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2009, Eli Bressert and Thomas Robitaille.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.2.
    </div>
  </body>
</html>